function [tau] = get_Torque(q, dq, ddq)
% 
    x0 = -ddq(1) - ddq(2);
    x1 = sin(q(3));
    x2 = x0.*x1;
    x3 = -dq(3);
    x4 = -dq(1) - dq(2);
    x5 = cos(q(3));
    x6 = x4.*x5;
    x7 = -x6;
    x8 = x2 + x3.*x7;
    x9 = x0.*x5;
    x10 = x1.*x4;
    x11 = dq(3).*x10 - x9;
    x12 = 0.316*x6;
    x13 = -4.10000000000000;
    x14 = 3.8*dq(3) + 3.6*x10 + x12.*x13 + 3.9*x7;
    x15 = dq(3).*x12 + 0.316*x2 + 9.81*x5;
    x16 = cos(q(4));
    x17 = sin(q(4));
    x18 = x10.*x17;
    x19 = x16.*x3;
    x20 = x18 + x19;
    x21 = -dq(4);
    x22 = ddq(3).*x17 + x16.*x8 + x20.*x21;
    x23 = ddq(4) + x11;
    x24 = x17.*x8;
    x25 = -x16;
    x26 = ddq(3).*x25;
    x27 = dq(3).*x17 + x10.*x16;
    x28 = dq(4).*x27 + x24 + x26;
    x29 = (x16).*(x16);
    x30 = (x17).*(x17);
    x31 = -0.0825*x29 - 0.0825*x30;
    x32 = 0.316*x10;
    x33 = -9.81*x1 + x3.*x32 + 0.316*x9;
    x34 = x12.*x16;
    x35 = -0.0825*ddq(4) + dq(4).*x34 + x11.*x31 + x17.*x33;
    x36 = 0.0825*x29 + 0.0825*x30;
    x37 = x18.*x36 + x19.*x36 + x32;
    x38 = x12.*x17 + x31.*x7;
    x39 = -0.0825*dq(4);
    x40 = x38 + x39;
    x41 = dq(4) + x7;
    x42 = -x41;
    x43 = 5.3*x27 + 5.5*x40 + 5.2*x42;
    x44 = cos(q(5));
    x45 = x22.*x44;
    x46 = sin(q(5));
    x47 = x23.*x46;
    x48 = -dq(5);
    x49 = -x48;
    x50 = x41.*x44;
    x51 = -x27;
    x52 = x46.*x51;
    x53 = x50 + x52;
    x54 = x45 + x47 + x49.*x53;
    x55 = -x28;
    x56 = -ddq(5) + x55;
    x57 = x23.*x44;
    x58 = -x46;
    x59 = x22.*x58;
    x60 = x27.*x44;
    x61 = x41.*x46;
    x62 = x60 + x61;
    x63 = x48.*x62 + x57 + x59;
    x64 = -0.0825*(x44).*(x44) - 0.0825*(x46).*(x46);
    x65 = x15 + x24.*x36 + x26.*x36 + x39.*x51;
    x66 = x16.*x33 + x21.*x38 + x39.*x7;
    x67 = -0.384*x46;
    x68 = x27.*x67 + x34.*x44 + x37.*x46 + 0.384*x50;
    x69 = -0.0825*ddq(5) + x28.*x64 + x44.*x65 - 0.384*x45 - 0.384*x47 + x48.*x68 + x58.*x66;
    x70 = -x40;
    x71 = x50.*x64 + x52.*x64 + x70;
    x72 = x20.*x64 + x34.*x58 + x37.*x44 - 0.384*x60 - 0.384*x61;
    x73 = -0.0825*dq(5);
    x74 = x72 + x73;
    x75 = -x20;
    x76 = x48 + x75;
    x77 = -6.40000000000000;
    x78 = 6.5*x62 + 6.7*x74 + x76.*x77;
    x79 = -6.50000000000000;
    x80 = 6.3*x53 + 6.0*x62 + x68.*x79 + 6.4*x71 + 6.2*x76;
    x81 = cos(q(6));
    x82 = sin(q(6));
    x83 = -x81;
    x84 = x62.*x82 + x76.*x83;
    x85 = -dq(6);
    x86 = x54.*x81 + x56.*x82 + x84.*x85;
    x87 = ddq(6) + x63;
    x88 = x62.*x81 + x76.*x82;
    x89 = dq(6).*x88 + x54.*x82 + x56.*x83;
    x90 = x22.*x67 + x44.*x66 + x46.*x65 + x49.*x72 + 0.384*x57 + x73.*x75;
    x91 = -x35;
    x92 = -x62;
    x93 = x57.*x64 + x59.*x64 + x73.*x92 + x91;
    x94 = x68.*x81 + x71.*x82;
    x95 = dq(6).*x94 + x82.*x90 + x83.*x93;
    x96 = x68.*x82 + x71.*x83;
    x97 = dq(6) + x53;
    x98 = -7.60000000000000;
    x99 = 7.7*x88 + 7.9*x96 + x97.*x98;
    x100 = -7.70000000000000;
    x101 = x100.*x94 + 7.6*x74 + 7.5*x84 + 7.2*x88 + 7.4*x97;
    x102 = cos(q(7));
    x103 = sin(q(7));
    x104 = x103.*x88;
    x105 = -x102;
    x106 = x105.*x97;
    x107 = x104 + x106;
    x108 = -dq(7);
    x109 = x102.*x86 + x103.*x87 + x107.*x108;
    x110 = ddq(7) + x89;
    x111 = x103.*x86;
    x112 = x105.*x87;
    x113 = x102.*x88 + x103.*x97;
    x114 = dq(7).*x113 + x111 + x112;
    x115 = (x102).*(x102);
    x116 = (x103).*(x103);
    x117 = -0.088*x115 - 0.088*x116;
    x118 = x81.*x90 + x82.*x93 + x85.*x96;
    x119 = x102.*x94 + x103.*x74;
    x120 = -0.088*ddq(7) + dq(7).*x119 + x103.*x118 + x105.*x69 + x117.*x89;
    x121 = 0.088*x115 + 0.088*x116;
    x122 = x104.*x121 + x106.*x121 + x96;
    x123 = x103.*x94 + x105.*x74 + x117.*x84;
    x124 = -0.088*dq(7);
    x125 = x123 + x124;
    x126 = dq(7) + x84;
    x127 = -8.80000000000000;
    x128 = 8.9*x113 + 9.1*x125 + x126.*x127;
    x129 = -8.90000000000000;
    x130 = 8.7*x107 + 8.4*x113 + x119.*x129 + 8.8*x122 + 8.6*x126;
    x131 = -x113;
    x132 = x111.*x121 + x112.*x121 + x124.*x131 + x95;
    x133 = -9.00000000000000;
    x134 = 8.6*x107 + 8.3*x113 + 9.0*x119 + x125.*x127 + 8.5*x126;
    x135 = -x107;
    x136 = 8.8*x107 + 9.1*x122 + 9.0*x131;
    x137 = 8.2*x109 + 8.3*x110 + 8.4*x114 + 8.9*x120 + x122.*x128 - x125.*x136 + x126.*x130 + x132.*x133 + x134.*x135;
    x138 = x102.*x118 + x103.*x69 + x108.*x123 + x124.*x84;
    x139 = x107.*x129 + 9.1*x119 + 9.0*x126;
    x140 = -x139;
    x141 = 8.4*x107 + 8.2*x113 + x122.*x133 + 8.9*x125 + 8.3*x126;
    x142 = 8.4*x109 + 8.6*x110 + x113.*x134 + 8.7*x114 + x119.*x136 + x122.*x140 - x126.*x141 + x129.*x138 + 8.8*x132;
    x143 = -7.80000000000000;
    x144 = 7.4*x84 + 7.1*x88 + 7.8*x94 + x96.*x98 + 7.3*x97;
    x145 = -x84;
    x146 = x143.*x88 + 7.9*x74 + 7.6*x84;
    x147 = x107.*x139 + x109.*x133 + 8.8*x114 + x128.*x131 + 9.1*x132;
    x148 = x121.*x147;
    x149 = x101.*x97 + x102.*x137 + x103.*x142 + x103.*x148 + x143.*x69 + x144.*x145 - x146.*x96 + x74.*x99 + 7.0*x86 + 7.1*x87 + 7.2*x89 + 7.7*x95;
    x150 = x107.*x141 + 8.3*x109 + 8.5*x110 + 8.6*x114 - x119.*x128 + x120.*x127 + x125.*x139 + x130.*x131 + 9.0*x138;
    x151 = 8.9*x109 + x110.*x127 + x113.*x136 + 9.1*x120 + x126.*x140;
    x152 = x100.*x84 + 7.9*x94 + 7.8*x97;
    x153 = -x152;
    x154 = x143.*x74 + 7.2*x84 + 7.0*x88 + 7.7*x96 + 7.1*x97;
    x155 = x100.*x118 + x117.*x151 + x144.*x88 + x146.*x94 + x150 + x153.*x74 - x154.*x97 + 7.6*x69 + 7.2*x86 + 7.4*x87 + 7.5*x89;
    x156 = -6.60000000000000;
    x157 = 6.4*x53 + 6.7*x71 + 6.6*x92;
    x158 = -x157;
    x159 = 6.2*x53 + 5.9*x62 + 6.6*x68 + x74.*x77 + 6.1*x76;
    x160 = x149.*x81 + x155.*x82 + x156.*x93 + x158.*x74 - x159.*x53 + 5.8*x54 + 5.9*x56 + 6.0*x63 + 6.5*x69 + x71.*x78 + x76.*x80;
    x161 = -x34;
    x162 = 5.3*x161 + 5.1*x20 + 4.8*x27 + 5.2*x37 + 5.0*x41;
    x163 = -5.40000000000000;
    x164 = 5.0*x20 + 4.7*x27 + 5.4*x34 + 4.9*x41 + 5.2*x70;
    x165 = -x88;
    x166 = x101.*x165 + x103.*x137 + x105.*x142 + x105.*x148 + 7.8*x118 + x152.*x96 + x154.*x84 + 7.1*x86 + 7.3*x87 + 7.4*x89 - x94.*x99 + x95.*x98;
    x167 = x53.*x79 + 6.7*x68 + 6.6*x76;
    x168 = -x167;
    x169 = x156.*x71 + 6.0*x53 + 5.8*x62 + 6.5*x74 + 5.9*x76;
    x170 = x157.*x68 + x159.*x62 + x166 + x168.*x71 - x169.*x76 + 6.0*x54 + 6.2*x56 + 6.3*x63 + x79.*x90 + 6.4*x93;
    x171 = 5.2*x20 + 5.5*x37 + 5.4*x51;
    x172 = 9.0*x110 + x114.*x129 + x126.*x128 + x135.*x136 + 9.1*x138;
    x173 = x100.*x89 + x102.*x172 + x103.*x151 + 7.9*x118 + x145.*x146 + 7.8*x87 + x97.*x99;
    x174 = x146.*x88 + x147 + x153.*x97 + 7.7*x86 + x87.*x98 + 7.9*x95;
    x175 = x158.*x53 + x173.*x81 + x174.*x82 + 6.6*x56 + x63.*x79 + x76.*x78 + 6.7*x90;
    x176 = x103.*x172 + x105.*x151 + x143.*x86 + x152.*x84 + x157.*x62 + x165.*x99 + x168.*x76 + 6.5*x54 + x56.*x77 + 14.6*x69 + 7.6*x89;
    x177 = x176.*x44;
    x178 = x156.*x54 + x167.*x53 + x173.*x82 + x174.*x83 + 6.4*x63 + x78.*x92 + 6.7*x93;
    x179 = x178.*x64;
    x180 = x160.*x44 + x162.*x41 + x163.*x65 + x164.*x75 + x170.*x58 + x171.*x70 + x175.*x67 - 0.384*x177 + x179.*x58 + 4.6*x22 + 4.7*x23 + 4.8*x28 + 5.3*x35 + x37.*x43;
    x181 = -x149.*x82 - x155.*x83 - x167.*x74 - x169.*x53 - 5.9*x54 - 6.1*x56 - 6.2*x63 + x68.*x78 - x69.*x77 - x80.*x92 - 6.6*x90;
    x182 = 5.5*x34 + 5.4*x41 + 5.3*x75;
    x183 = x163.*x37 + 4.8*x20 + 4.6*x27 + 5.3*x40 + 4.7*x41;
    x184 = x164.*x27 + x171.*x34 + x176.*x64 + x181 - x182.*x37 + x183.*x42 + 4.8*x22 + 5.0*x23 + 5.1*x28 + 5.2*x65 - 5.3*x66;
    x185 = -x10;
    x186 = 4.2*x185 + 4.0*x7;
    x187 = -x32;
    x188 = 3.7*dq(3) + 3.5*x10 + 4.2*x12 + 4.0*x187 + 3.8*x7;
    x189 = -x7;
    x190 = x163.*x22 + x175.*x46 + x177 + x182.*x20 + 5.2*x28 + x43.*x51 + 5.5*x65;
    x191 = x190.*x36;
    x192 = x175.*x44;
    x193 = x160.*x46 + x161.*x43 + x162.*x51 + x170.*x44 + x176.*x67 + x179.*x44 + x182.*x40 + x183.*x20 + 0.384*x192 + 4.7*x22 + 4.9*x23 + 5.0*x28 + 5.4*x66 + 5.2*x91;
    x194 = x171.*x27 - x178 + x182.*x42 + 5.3*x22 - 5.2*x23 + 5.5*x35;
    x195 = 3.5*dq(3) + 3.4*x10 + 4.1*x32 + 3.6*x7;
    x196 = 4.1*x10 + 4.0*x3 + 4.3*x32;
    x197 = -4.00000000000000;
    x198 = 4.2*dq(3) + 4.3*x12 + x13.*x7;
    x199 = -2.5*x0 - 0.316*x1.*(ddq(3).*x197 + x10.*x186 + 4.3*x15 + x190 + x198.*x3 + 4.1*x8) - x1.*(3.5*ddq(3) + dq(3).*x14 + 3.6*x11 + 4.1*x15 + x16.*x180 + x17.*x184 + x17.*x191 + x186.*x187 + x188.*x189 + 3.4*x8) - 0.316*x5.*(4.2*ddq(3) + dq(3).*x196 + x11.*x13 + x16.*(x171.*x75 + x176.*x58 + x192 + 5.4*x23 + x41.*x43 + 5.3*x55 + 5.5*x66) + x17.*x194 + x186.*x189 + 4.3*x33) + x5.*(3.8*ddq(3) + x10.*x188 + 3.9*x11 + x12.*x186 + x13.*x33 + x193 + x194.*x31 + x195.*x3 + 3.6*x8);
% 
    tau(1) = 1.5*ddq(1) + x199 + 2.0*sign(dq(1)) + 2.1;
    tau(2) = x199 + 3.2*sign(dq(2)) + 3.3;
    tau(3) = 3.7*ddq(3) + 3.8*x11 - x12.*x196 + x14.*x185 + x15.*x197 + x17.*x180 + x184.*x25 + x191.*x25 + x195.*x7 + x198.*x32 + 4.2*x33 + 3.5*x8 + 4.4*sign(dq(3)) + 4.5;
    tau(4) = x193 - 0.0825*x194 + 5.6*sign(dq(4)) + 5.7;
    tau(5) = -0.0825*x176 + x181 + 6.8*sign(dq(5)) + 6.9;
    tau(6) = x166 + 8.0*sign(dq(6)) + 8.1;
    tau(7) = x150 - 0.088*x151 + 9.2*sign(dq(7)) + 9.3;
% 
end
